Installation
------------

In order to install and use **pyCDFT**

1. Compile DFT driver

**pyCDFT** is currently compatible with Qbox (used in `client-server mode <http://qboxcode.org/doc/html/usage/client-server.html>`_). Other DFT codes may be added in the future as needed.

 - `Qbox <http://qboxcode.org/doc/html/usage/installation.html>`_
 - `Qbox on Mira <https://www.alcf.anl.gov/user-guides/qbox>`_

PyCDFT has been tested with Python 3.6+, Qbox 1.67.4+. 
A version of Qbox that is capable of handling external potentials via the variable **vext** is required.
Currently PyCDFT is compatible with **cube** and **Function3d** formats.


2. Install PyCDFT

The basic command is:

.. code-block:: bash

   $ python setup.py install 

You may need to modify which directory to install in with "--prefix=/desired/installation/path/"

E.g., On UChicago RCC Midway 2

.. code-block:: bash

   export PYTHONPATH="${PYTHONPATH}:/desired/installation/path/lib/python3.7/site-packages"
   python setup.py install --prefix="/desired/installation/path"

Be sure to load python v 3.6+, e.g., 

.. code-block:: bash

   $ module load python
   $ module list

   Currently Loaded Modulefiles:
    1) serf/1.3.9                      7) intelmpi/2018.2.199+intel-18.0 
    2) subversion/1.9.4                8) xerces/3.1.4                   
    3) git/2.10                        9) python/3.7.0                   
    4) env/rcc                        10) octave/4.0                     
    5) mkl/2018.up2                   11) gcc/6.1                        
    6) intel/18.0                     12) slurm/current 


Dependencies
------------

The following dependencies are needed: 
  - `python <https://www.python.org/downloads/>`_ 
  - `Jupyter <https://jupyter.org/install>`_

The following Python packages are needed, as included in **setup.py** install file: 
  - `numpy <https://numpy.org/>`_
  - `pyFFTW <https://pypi.org/project/pyFFTW/>`_ 
  - `lxml <https://pypi.org/project/lxml/>`_
  - `ase <https://wiki.fysik.dtu.dk/ase/install.html>`_


